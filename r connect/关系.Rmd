---
title: "关系运算"
output: html_document
date: "2023-10-13"
---
```{r warning =FALSE, message = FALSE,echo=FALSE}
library(RPostgreSQL)
con <- dbConnect(RPostgres::Postgres(),
                 host = "localhost", 
                 port = 5433, 
                 dbname = 'postgres',  
                 user = 'postgres', 
                 password = '123456') 
```


# 关系模型基本术语
- 关系：表格
- 元组：每一行数据
- 属性：每一列数据

## 关系的性质
- 列具有相同的性质，不同的列可以有相同的域



## 关键码
- 超键：能够唯一标识元组的属性组合
- 候选键：最小的超键
- 主键：选一个候选键为主键
- 外键：关系R中包含有另一个关系S的主键所对应的属性组F，称F为R的外键

## 完整性规则
- 实体完整性
- 参照完整性
- 用户定义完整性

# 关系代数
## 关系数据语言
- 关系代数语言：以集合操作为基础
- 关系演算语言：以谓词演算为基础

## 关系代数的基本运算
### 并
$$
A \cup B = {}
$$
- 运算后消除重复的元组

### 差

### 笛卡尔积

### 投影
- 对一个关系进行垂直分割，消去某些列，并且重新安排列的顺序，删除重复元组


### 选择
- 根据某些条件对关系做水平分割，选择符合条件的元组
$$
σ_F(R) = \{ t|t \in \wedge \}
$$

### 自然连接
- 将关系R和关系S中公共属性组满足对应分量相等的元组连接起来，并且要在结果中将重复的属性去掉

### 除
- 设关系R和S的原数分别为r、s
- R÷S表示一个（r-s）元的元组的集合
  且满足每个元组t与S中每个元组u组成的新元组<t,u>必在关系中
- 举例：R(StudentID, CourseID) S(StudentID, StudentName)
  表示选取被所有学生选的课程ID












